window.Bugsnag=function(e,n,t){function r(n){var t=e.console;void 0!==t&&void 0!==t.log&&t.log("[Bugsnag] "+n)}function a(e,n){var t=[],r=encodeURIComponent;for(var o in e)if(e.hasOwnProperty(o)&&null!=o&&null!=e[o]){var i=n?n+"["+o+"]":o,c=e[o];t.push("object"==typeof c?a(c,i):r(i)+"="+r(c))}return t.join("&")}function o(e,n){if(null==n)return e;e=e||{};for(var t in n)if(n.hasOwnProperty(t))try{e[t]=n[t].constructor===Object?o(e[t],n[t]):n[t]}catch(r){e[t]=n[t]}return e}function i(e,n){if(d.testRequest)d.testRequest(e,n);else{var t=new Image;t.src=e+"?"+a(n)+"&ct=img&cb="+(new Date).getTime()}}function c(e){for(var n={},t=/^data\-([\w\-]+)$/,r=e.attributes,a=0;r.length>a;a++){var o=r[a];if(t.test(o.nodeName)){var i=o.nodeName.match(t)[1];n[i]=o.nodeValue}}return n}function u(e){return y=y||c(S),d[e]||y[e.toLowerCase()]}function s(n,a){var c=u("apiKey");if(null==c||!c.match(b))return r("Invalid API key '"+c+"'"),void 0;for(var s=u("releaseStage")||x,l=u("notifyReleaseStages")||E,f=!1,g=0;l.length>g;g++)if(s===l[g]){f=!0;break}if(f){var m=o(u("metaData"),a),v=u("endpoint")||N,p=e.location,h={notifierVersion:j,apiKey:c,projectRoot:u("projectRoot")||p.protocol+"//"+p.host,context:u("context")||p.pathname,metaData:m,releaseStage:s,url:e.location.href,userAgent:t.userAgent,language:t.language||t.userLanguage,name:n.name,message:n.message,stacktrace:n.stacktrace,file:n.file,lineNumber:n.lineNumber};i(v,h)}}function l(){var e,n=10,t="[anonymous]";try{throw Error("")}catch(r){e=f(r)}if(!e){for(var a=[],o=arguments.callee.caller.caller;o&&n>a.length;){var i=w.test(""+o)?RegExp.$1||t:t;a.push(i),o=o.caller}e=a.join("\n")}return e}function f(e){return e.stack||e.backtrace||e.stacktrace}function g(){var e=u("metrics");if(e===!0||"true"===e){var n=u("apiKey"),t="bugsnag_"+n,r=h(t);null==r&&(r=v(),p(t,r)),i(u("metricsEndpoint")||R,{userId:r,apiKey:n})}}function m(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function v(){return m()+m()+"-"+m()+"-"+m()+"-"+m()+"-"+m()+m()+m()}function p(e,t){var r=new Date;r.setTime(r.getTime()+864e8),n.cookie=e+"="+t+"; expires="+r.toGMTString()}function h(t){var r=n.cookie.match(t+"=([^$;]+)");return r?e.unescape(r[1]):null}var d={};d.notifyException=function(e,n,t){"string"!=typeof n&&(t=n),s({name:n||e.name,message:e.message||e.description,stacktrace:f(e)||l(),file:e.fileName||e.sourceURL,lineNumber:e.lineNumber||e.line},t)},d.notify=function(e,n,t){s({name:e,message:n,stacktrace:l()},t)},d._onerror=e.onerror,e.onerror=function(e,n,t){s({name:"window.onerror",message:e,file:n,lineNumber:t}),d._onerror&&d._onerror(e,n,t)};var y,b=/^[0-9a-f]{32}$/i,w=/function\s*([\w\-$]+)?\s*\(/i,k="https://notify.bugsnag.com/",N=k+"js",R=k+"metrics",j="1.0.6-beta",x="production",E=[x],I=n.getElementsByTagName("script"),S=I[I.length-1];return g(),d}(window,document,navigator);