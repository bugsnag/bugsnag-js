window.Bugsnag=function(e,n,t){function r(n){var t=e.console;void 0!==t&&void 0!==t.log&&t.log("[Bugsnag] "+n)}function o(e,n){var t=[];for(var r in e)if(e.hasOwnProperty(r)&&null!=r&&null!=e[r]){var a=n?n+"["+r+"]":r,i=e[r];t.push("object"==typeof i?o(i,a):encodeURIComponent(a)+"="+encodeURIComponent(i))}return t.join("&")}function a(e,n){if(null==n)return e;e=e||{};for(var t in n)if(n.hasOwnProperty(t))try{e[t]=n[t].constructor===Object?a(e[t],n[t]):n[t]}catch(r){e[t]=n[t]}return e}function i(e,n){if(y.testRequest)y.testRequest(e,n);else{var t=new Image;t.src=e+"?"+o(n)+"&ct=img&cb="+(new Date).getTime()}}function c(e){for(var n={},t=/^data\-([\w\-]+)$/,r=e.attributes,o=0;r.length>o;o++){var a=r[o];if(t.test(a.nodeName)){var i=a.nodeName.match(t)[1];n[i]=a.nodeValue}}return n}function s(e,n){w=w||c(x);var t=void 0!==y[e]?y[e]:w[e.toLowerCase()];return"false"===t&&(t=!1),void 0!==t?t:n}function u(e){return null!=e&&e.match(b)?!0:(r("Invalid API key '"+e+"'"),!1)}function f(n,r){var o=s("apiKey");if(u(o)){for(var c=s("releaseStage")||E,f=s("notifyReleaseStages")||S,l=!1,m=0;f.length>m;m++)if(c===f[m]){l=!0;break}if(l){var g=a(s("metaData"),r),v=e.location;i(s("endpoint")||I,{notifierVersion:j,apiKey:o,projectRoot:s("projectRoot")||v.protocol+"//"+v.host,context:s("context")||v.pathname,userId:s("userId"),metaData:g,releaseStage:c,url:e.location.href,userAgent:t.userAgent,language:t.language||t.userLanguage,name:n.name,message:n.message,stacktrace:n.stacktrace,file:n.file,lineNumber:n.lineNumber})}}}function l(){var e,n=10,t="[anonymous]";try{throw Error("")}catch(r){e=m(r)}if(!e){for(var o=[],a=arguments.callee.caller.caller;a&&n>o.length;){var i=k.test(""+a)?RegExp.$1||t:t;o.push(i),a=a.caller}e=o.join("\n")}return e}function m(e){return e.stack||e.backtrace||e.stacktrace}function g(){var e=s("metrics"),n=s("apiKey");if((e===!0||"true"===e)&&u(n)){var t="bugsnag_"+n,r=h(t);null==r&&(r=p(),d(t,r,1e3,!0)),i(s("metricsEndpoint")||N,{userId:r,apiKey:n})}}function v(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function p(){return v()+v()+"-"+v()+"-"+v()+"-"+v()+"-"+v()+v()+v()}function d(t,r,o,a){var i="",c="";if(o){var s=new Date;s.setTime(s.getTime()+1e3*60*60*24*o),c="; expires="+s.toGMTString()}if(a){var u=e.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i),f=u?u[0]:"";i=f?"; domain=."+f:""}n.cookie=t+"="+encodeURIComponent(r)+c+"; path=/"+i}function h(e){var t=n.cookie.match(e+"=([^$;]+)");return t?decodeURIComponent(t[1]):null}var y={};y.notifyException=function(e,n,t){"string"!=typeof n&&(t=n),f({name:n||e.name,message:e.message||e.description,stacktrace:m(e)||l(),file:e.fileName||e.sourceURL,lineNumber:e.lineNumber||e.line},t)},y.notify=function(e,n,t){f({name:e,message:n,stacktrace:l()},t)},y._onerror=e.onerror,e.onerror=function(e,n,t){var o=s("autoNotify",!0);o&&"Script error."===e&&""===n&&0===t&&(r("Error on cross-domain script, couldn't notify Bugsnag."),o=!1),o&&f({name:"window.onerror",message:e,file:n,lineNumber:t}),y._onerror&&y._onerror(e,n,t)};var w,b=/^[0-9a-f]{32}$/i,k=/function\s*([\w\-$]+)?\s*\(/i,R="https://notify.bugsnag.com/",I=R+"js",N=R+"metrics",j="1.0.9",E="production",S=[E],$=n.getElementsByTagName("script"),x=$[$.length-1];return g(),y}(window,document,navigator);